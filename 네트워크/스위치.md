# 스위치
- 여러 '장비'를 연결하고 데이터 통신을 중재하며, 목적지가 연결된 포트로만 전기 신호를 보내 데이터를 전송. 
- 어떤 주소를 다루는가에 따라(ex. MAC 주소, 프로토콜 주소, 세션 프로토콜...) 스위치를 구분.
- 상위 계층 스위치는 하위 계층의 기능을 포함함.
- LO 스위치에서 L은 Layer, OSI 7계층의 계층을 의미함.
> **스위칭** : 네트워크에서 노드와 노드 간 연결을 중개해주는 것

<img width="637" alt="image" src="https://user-images.githubusercontent.com/66233687/192535514-7b988b8c-3864-4d29-a532-3814380f8436.png">


## L1 스위치_허브
- 1계층(물리 계층)에서 작동
- 연결된 모든 포트로 데이터 전부 전달 (flooding)

## L2 스위치_스위칭 허브
- 2계층(데이터 링크 계층)에서 작동 (MAC 주소)
- MAC 주소 테이블에 **MAC 주소**와 포트 저장
- 패킷의 MAC 주소를 읽어 해당 포트로 전달 (forwarding)

<img width="500" alt="image" src="https://user-images.githubusercontent.com/66233687/192537622-ddb07c47-f21b-46e7-ac0f-aa85b5ab6c83.png">


## L3 스위치_라우터, 공유기
- 3계층(네트워크 계층)에서 작동 (IP 주소)
- L2 스위치 + 라우팅 기능
- 라우팅 테이블
> 라우터 : 여러 개의 네트워크를 연결, 분할, 구분하는 역할. 라우팅을 하는 장비. 내부, 외부 네트워크 신호를 구분할 수 있어 외부 네트워크와 통신 가능.
> 
> 라우팅 : 네트워크에서 경로를 선택하는 과정. 상호 연결된 네트워크에서 두 노드 간의 통신은 여러 경로를 통해 이루어질 수 있음. 
> 라우팅은 미리 정해진 규칙을 사용하여 최상의 경로를 선택하는 과정을 의미.

## L4 스위치_로드밸런서
- 4계층(전송 계층)은 외부에서 들어오는 모든 요청을 먼저 받아들이는 계층
- 3~4계층에 속하는 IP 주소 및 TCP/UDP Port 정보를 보고 스위칭
- 네트워크 계층(IP, IPX)이나 전송 계층(TCP, UDP)의 정보(IP주소, 포트번호, MAC주소, 전송 프로토콜)를 바탕으로 로드를 분산

## L7 스위치_로드밸런서
- 3~7계층에 속하는 IP 주소 및 TCP/UDP Port 정보, 패킷 내용까지 모두 보고 스위칭
- L4 스위치가 확인하는 IP 주소와 TCP/UDP Port 외에도 + **URL, HTTP 헤더, 쿠키, 바이러스 패턴**을 기반으로 트래픽 분산
- 필터링 기능 : 바이러스, 불필요한 외부 데이터 걸러냄.(ex. 웹 방화벽)
- 응용 프로그램 수준의 트래픽 모니터링

> 로드밸런싱 : 클라이언트의 요청을 여러 서버로 분산을 통해 한 대의 서버로 부하가 집중되지 않도록 트래픽을 관리해 각각의 서버가 최적의 퍼포먼스를 보일 수 있도록 하는 것이 목적.
> 
> ![image](https://user-images.githubusercontent.com/66233687/192478982-941bd0e3-1d6c-4731-ace7-c6ea102ce1d0.png)
> 
> 이미지 출처 : https://tecoble.techcourse.co.kr/post/2021-11-07-load-balancing/
